;var CID_STATUS={NEW:0,NEW_SAVED:1,LOADED:2};(function(e){e.cookiesLaw={cid_status:CID_STATUS.LOADED,cid:false,notified:false,hide_msg:false,start_scripts:false,gen_id:function(){this.cid_status=CID_STATUS.NEW;var e=navigator.appName+navigator.version+navigator.platform+navigator.userAgent+(navigator.cookie?navigator.cookie:"")+(document.referrer?document.referrer:"");d=e.length;for(var t=window.history.length;0<t;)e+=t--^d++;return(Math.round(2147483647*Math.random())^hash(e)&2147483647)+"."+Math.round((new Date)["getTime"]()/1e3)},run_scripts:function(){if(!this.start_scripts)return;if(this.cid_status<=CID_STATUS.NEW_SAVED){e.cookie("__cid",this.cid,{expires:730,path:"/"});if(this.cid_status==CID_STATUS.NEW){this.visit_domains("notify",function(){});this.cid_status=CID_STATUS.NEW_SAVED}}this.start_scripts();this.start_scripts=false},initialize:function(t,n){this.cid=e.cookie("__cid")||this.gen_id();this.start_scripts=n;this.domains=t;var r=e.cookie("cookie_level");this.notified=r>0;this.hide_msg=r>1;if(this.notified){this.final_process();return}this.visit_domains("notify",function(){e.cookie("cookie_level",e.cookiesLaw.hide_msg?2:1,{expires:3650,path:"/"});if(this.cid_status==CID_STATUS.NEW&&e.cookiesLaw.notified)this.cid_status=CID_STATUS.NEW_SAVED;e.cookiesLaw.final_process()})},visit_domains:function(t,n){var r=[];for(var i=0;i<this.domains.length;i++){r.push(e.ajax({type:"GET",url:this.domains[i]+"?cid="+this.cid+"&"+t,async:true,contentType:"application/json",dataType:"jsonp",success:function(t){if(t>0){e.cookiesLaw.notified=true;if(t>1){e.cookiesLaw.hide_msg=true}}}}))}e.when.apply(e,r).done(n)},final_process:function(){if(this.notified)this.run_scripts();if(!this.hide_msg){if(this.notified)trackGAEvent("CookieLaw","Notified");e(function(){show_alert("cookies","<a href='#' id='cookies_accept'>cerrar</a>Utilizamos cookies propias y de terceros para mejorar nuestros servicios y realizar estadísticas sobre el uso de nuestra web.<br/>Si continua navegando, consideramos que acepta su uso. Puede cambiar la configuración u obtener más información <a id='cookies_info' href='#'>aquí</a>.","info");e("#cookies_accept").click(function(t){t.preventDefault();e.cookie("cookie_level",2,{expires:3650,path:"/"});e.cookiesLaw.visit_domains("accept",function(){e.cookiesLaw.run_scripts();trackGAEvent("CookieLaw","Close");hide_alert("cookies")})});e("#cookies_info").click(function(t){t.preventDefault();e.cookiesLaw.showMoreInfo()})})}},showMoreInfo:function(){e.colorbox({href:"/static/cookies.htm",height:"80%",width:"80%",close:"cerrar",fixed:true})}}})(jQuery);
